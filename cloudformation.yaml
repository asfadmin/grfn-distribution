AWSTemplateFormatVersion: 2010-09-09

Parameters:

  PrivateBucket:
    Description: Name of S3 bucket in which zipped output products will be archived
    Type: String

  CertificateArn:
    Type: String

  DomainName:
    Type: String

  AuthUrl:
    Type: String

  JwtCookieName:
    Type: String

  JwtPublicKey:
    Type: String

Resources:

  DoorStack:
    Type: AWS::CloudFormation::Stack
    Properties:
      Parameters:
        Name: !Sub "${AWS::StackName}-door"
        PrivateBucket: !Ref PrivateBucket
        CertificateArn: !Ref CertificateArn
        DomainName: !Ref DomainName
        AuthUrl: !Ref AuthUrl
        JwtCookieName: !Ref JwtCookieName
        JwtPublicKey: !Ref JwtPublicKey
      TemplateURL: door/cloudformation.yaml
